Chart.pluginService.register({beforeDraw:function(e){if(e.config.options.elements.center){var t=e.chart.ctx,i=e.config.options.elements.center,r=i.fontStyle||"Arial",n=i.text,a=i.color||"#000",l=i.maxFontSize||75,o=(i.sidePadding||20)/100*(2*e.innerRadius);t.font="30px "+r;var f=t.measureText(n).width,h=2*e.innerRadius-o,c=h/f,s=Math.floor(30*c),d=2*e.innerRadius,x=Math.min(s,d,l),g=i.minFontSize,m=i.lineHeight||25,u=!1;void 0===g&&(g=20),g&&x<g&&(x=g,u=!0),t.textAlign="center",t.textBaseline="middle";var p=(e.chartArea.left+e.chartArea.right)/2,v=(e.chartArea.top+e.chartArea.bottom)/2;if(t.font=x+"px "+r,t.fillStyle=a,!u)return void t.fillText(n,p,v);for(var A=n.split(" "),S="",T=[],w=0;w<A.length;w++){var R=S+A[w]+" ";t.measureText(R).width>h&&w>0?(T.push(S),S=A[w]+" "):S=R}v-=T.length/2*m;for(w=0;w<T.length;w++)t.fillText(T[w],p,v),v+=m;t.fillText(S,p,v)}}});